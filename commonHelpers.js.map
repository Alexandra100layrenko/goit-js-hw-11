{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '42772780-849d5e67a8b9b0ab7e6b7483b';\nconst BASE_URL = `https://pixabay.com/api/?key=${API_KEY}&image_type=photo&orientation=horizontal&safesearch=true`;\n\nexport default {\n  async fetchImages(query) {\n    try {\n      const response = await fetch(`${BASE_URL}&q=${encodeURIComponent(query)}`);\n\n      if (!response.ok) {\n        throw new Error('Failed to fetch images');\n      }\n\n      const data = await response.json();\n      return data.hits;\n    } catch (error) {\n      console.error('Error fetching images:', error);\n      handleError(error);\n      throw error;\n    }\n  },\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n\nfunction renderGallery(images) {\n  const galleryList = document.querySelector('.gallery');\n\n  if (!galleryList) {\n    console.error('Gallery list not found');\n    return;\n  }\n\n  galleryList.innerHTML = '';\n\n  if (images.length === 0) {\n    iziToast.info({\n      title: 'Info',\n      message: 'Sorry, there are no images matching your search query. Please try again!',\n    });\n    return;\n  }\n  const galleryItems = images\n    .map((image) => `\n      <li class=\"gallery-item\">\n        <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n          <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" class=\"gallery-image\" />\n        </a>\n        <div class=\"gallery-item-info\">\n          <div class=\"info-item\">Likes: ${image.likes}</div>\n          <div class=\"info-item\">Views: ${image.views}</div>\n          <div class=\"info-item\">Comments: ${image.comments}</div>\n          <div class=\"info-item\">Downloads: ${image.downloads}</div>\n        </div>\n      </li>\n    `)\n    .join('');\n\n  galleryList.innerHTML = galleryItems;\n\n  const lightbox = new SimpleLightbox('.gallery a');\n  lightbox.refresh();\n}\n\nfunction showLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.add('visible');\n  } else {\n    console.error('Loader not found');\n  }\n}\n\nfunction hideLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.classList.remove('visible');\n  } else {\n    console.error('Loader not found');\n  }\n}\n\nfunction handleError(error) {\n  console.error('Error:', error);\n  showErrorMessage('An error occurred. Please try again later.');\n}\n\nfunction showErrorMessage(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n  });\n}\n\nfunction showWarning(message) {\n  iziToast.warning({\n    title: 'Warning',\n    message: message,\n  });\n}\n\nexport {\n  renderGallery,\n  showLoader,\n  hideLoader,\n  handleError,\n  showWarning\n};\n","import {\n  renderGallery,\n  showLoader,\n  hideLoader,\n  handleError,\n  showWarning\n} from './js/render-functions.js';\n\nimport pixabayApi from './js/pixabay-api.js';\n\nconst searchForm = document.querySelector('.search-form');\nconst searchInput = document.querySelector('.search-input');\n\nsearchForm.addEventListener('submit', async (event) => {\n  event.preventDefault();\n\n  const query = searchInput.value.trim();\n  if (query === '') {\n    showWarning('Please enter a search query!');\n    return;\n  }\n\n  showLoader();\n  try {\n    const images = await pixabayApi.fetchImages(query);\n    renderGallery(images);\n  } catch (error) {\n    handleError(error);\n  } finally {\n    hideLoader();\n  }\n});\n"],"names":["API_KEY","BASE_URL","pixabayApi","query","response","error","renderGallery","images","galleryList","iziToast","galleryItems","image","SimpleLightbox","showLoader","loader","hideLoader","handleError","showErrorMessage","message","showWarning","searchForm","searchInput","event"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,gCAAgCD,CAAO,2DAEzCE,EAAA,CACb,MAAM,YAAYC,EAAO,CACvB,GAAI,CACF,MAAMC,EAAW,MAAM,MAAM,GAAGH,CAAQ,MAAM,mBAAmBE,CAAK,CAAC,EAAE,EAEzE,GAAI,CAACC,EAAS,GACZ,MAAM,IAAI,MAAM,wBAAwB,EAI1C,OADa,MAAMA,EAAS,QAChB,IACb,OAAQC,EAAO,CACd,cAAQ,MAAM,yBAA0BA,CAAK,EAC7C,YAAYA,CAAK,EACXA,CACP,CACF,CACH,ECdA,SAASC,EAAcC,EAAQ,CAC7B,MAAMC,EAAc,SAAS,cAAc,UAAU,EAErD,GAAI,CAACA,EAAa,CAChB,QAAQ,MAAM,wBAAwB,EACtC,MACD,CAID,GAFAA,EAAY,UAAY,GAEpBD,EAAO,SAAW,EAAG,CACvBE,EAAS,KAAK,CACZ,MAAO,OACP,QAAS,0EACf,CAAK,EACD,MACD,CACD,MAAMC,EAAeH,EAClB,IAAKI,GAAU;AAAA;AAAA,mBAEDA,EAAM,aAAa;AAAA,sBAChBA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA,0CAGlBA,EAAM,KAAK;AAAA,0CACXA,EAAM,KAAK;AAAA,6CACRA,EAAM,QAAQ;AAAA,8CACbA,EAAM,SAAS;AAAA;AAAA;AAAA,KAGxD,EACA,KAAK,EAAE,EAEVH,EAAY,UAAYE,EAEP,IAAIE,EAAe,YAAY,EACvC,QAAO,CAClB,CAEA,SAASC,GAAa,CACpB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC3CA,EACFA,EAAO,UAAU,IAAI,SAAS,EAE9B,QAAQ,MAAM,kBAAkB,CAEpC,CAEA,SAASC,GAAa,CACpB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC3CA,EACFA,EAAO,UAAU,OAAO,SAAS,EAEjC,QAAQ,MAAM,kBAAkB,CAEpC,CAEA,SAASE,EAAYX,EAAO,CAC1B,QAAQ,MAAM,SAAUA,CAAK,EAC7BY,EAAiB,4CAA4C,CAC/D,CAEA,SAASA,EAAiBC,EAAS,CACjCT,EAAS,MAAM,CACb,MAAO,QACP,QAASS,CACb,CAAG,CACH,CAEA,SAASC,EAAYD,EAAS,CAC5BT,EAAS,QAAQ,CACf,MAAO,UACP,QAASS,CACb,CAAG,CACH,CCtEA,MAAME,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAc,SAAS,cAAc,eAAe,EAE1DD,EAAW,iBAAiB,SAAU,MAAOE,GAAU,CACrDA,EAAM,eAAc,EAEpB,MAAMnB,EAAQkB,EAAY,MAAM,KAAI,EACpC,GAAIlB,IAAU,GAAI,CAChBgB,EAAY,8BAA8B,EAC1C,MACD,CAEDN,IACA,GAAI,CACF,MAAMN,EAAS,MAAML,EAAW,YAAYC,CAAK,EACjDG,EAAcC,CAAM,CACrB,OAAQF,EAAO,CACdW,EAAYX,CAAK,CACrB,QAAY,CACRU,GACD,CACH,CAAC"}